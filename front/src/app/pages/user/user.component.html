<div class="user-content">
  <div class="profil">
    <div>
      <div class="title">
        <p>Profil utilisateur</p>
      </div>
      <form class="login-form" [formGroup]="userForm" (ngSubmit)="submit()">
        <div class="form-content">
          <div>
            <input matInput placeholder="Name" formControlName="name">
          </div>
          <div>
            <input matInput placeholder="Email" formControlName="email">
          </div>
        </div>
        <div class="submit-button">
          <button mat-raised-button color="primary" type="submit">Sauvegarder</button>
          <p *ngIf="onError" class="error">An error occurred</p>
        </div>
        <div class="save-btn">
          <button mat-raised-button color="default" (click)="logout()" type="submit">Se déconnecter</button>
        </div>
      </form>
    </div>
  </div>
  <hr>


  <div class="subscription">
    <div>
      <div class="title">
        <p>Abonnements</p>
      </div>
      <div class="cards-subscriptions">
        <mat-card class="mat-card-subscription" *ngFor="let topic of listTopic;let indexOfTopic=index;">
          <mat-card-header>
            <mat-card-title>{{ topic.title }}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <p>
              {{ topic.description | slice:0:255 }}
              <span
                *ngIf="lenghtListTopics > 255" matTooltip="{{ topic.description | slice:255:lenghtListTopics }}">
              ...
            </span>
            </p>
          </mat-card-content>
          <mat-card-actions>
            <button
              mat-raised-button
              color="primary"
              (click)="unsubscribeTopic(indexOfTopic, topic)"
              class="submit-unsubscribe"
              type="submit">
              Se Désabonner
            </button>
          </mat-card-actions>
        </mat-card>
      </div>
    </div>
  </div>

</div>
